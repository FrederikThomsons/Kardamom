<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Milena</title>
  <link rel="stylesheet" href="CSS.css" />
</head>
<body>
  <!-- Das große Hallo-Element (wird per JS befüllt und gefadet) -->
  <h1 id="halloText" aria-live="polite"></h1>

  <!-- Frage + Buttons (zuerst versteckt) -->
  <div id="question" aria-hidden="true">
    <h3>Wieviele Hallo's waren das gerade?</h3>
    <div class="buttons">
      <button onclick="saveAnswer('Eines')">Eines</button>
      <button onclick="saveAnswer('Zwei')">Zwei</button>
      <button onclick="saveAnswer('Drei')">Drei</button>
      <button onclick="saveAnswer('Vier')">Vier</button>
      <button onclick="saveAnswer('Die Antwort ist offensichtlich 3??')">Die Antwort ist offensichtlich 3??</button>
    </div>
  </div>

  <script>
    // einfache Wartefunktion mit Promise
    function wait(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    async function runHallos() {
      const hallos = ["Hallo", "Hallo", "Hallo"];
      const el = document.getElementById('halloText');

      // Zeiten (ms)
      const fadeDuration = 1200; // CSS transition duration
      const visibleTime = 900;   // wie lange es vollständig sichtbar bleibt

      for (let i = 0; i < hallos.length; i++) {
        // set text und sichtbar machen (fade in)
        el.textContent = hallos[i];
        el.style.display = 'block';

        // cause reflow so transition works reliably
        void el.offsetWidth;

        el.classList.add('visible'); // --> opacity von 0 -> 1 (fade-in)
        await wait(fadeDuration + visibleTime); // warte fade-in + sichtzeit

        // fade out
        el.classList.remove('visible'); // --> opacity 1 -> 0 (fade-out)
        await wait(fadeDuration); // warte fade-out zu Ende
      }

      // am Ende das Hallo-Element ausblenden und Frage zeigen
      el.style.display = 'none';
      const q = document.getElementById('question');
      q.style.display = 'block';
      q.setAttribute('aria-hidden', 'false');
    }

    function saveAnswer(answer) {
      localStorage.setItem('milenaAnswer', answer);
      window.location.href = 'milena2.html';
    }

    document.addEventListener('DOMContentLoaded', runHallos);
  </script>
</body>
</html>
